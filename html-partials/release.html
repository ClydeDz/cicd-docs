<script id="releasePartial" type="text/x-mustache">
    <div class="container container-fluid">
        <div class="row">
            <div class="col-xs-12 col-md-8">
                <div class="card">
                    <div>
                        <h2>{{ name }}</h2> 
                        des {{ description }}<br />
                        url {{ url }}<br />
                        Version {{ metaInformation.version }}<br />
                        Version {{ metaInformation.releaseNameFormat }}<br />
                    </div>
                    <!-- environment phases and tasks -->
                    <div class="row">
                        <div class="col-xs-6">
                            <h3>Environment</h3>
                        </div>
                        <div class="col-xs-6">
                            {{#releaseDefinitonHasMultipleEnvironments}}
                            <button class="prev">Prev</button>
                            <button class="next">Next</button>
                            {{/releaseDefinitonHasMultipleEnvironments}}
                        </div>
                    </div>
                    <div class="environment-slider">
                        {{#environments}}
                        <div class="row">
                            <div class="col-xs-12">
                                <h3>{{ name }}</h3>
                                <p>{{ ownerName }}</p>
                                <p>
                                    {{emailRecipients}}
                                </p>
                            </div>
                            {{#deploymentPhases}}
                            <div class="col-xs-12" style='border-left-width: 18px; border-left-color: "#0000ff26"; border-left-style: solid;'> 
                                <h3>{{ name }}</h3>
                                <p>{{ phaseType }}</p>
                                <!-- steps -->
                                {{#steps}}
                                <div id="step-{{id}}" class="row">
                                    <div class="col-xs-1">
                                        <img alt="{{ name }}" src="{{icon}}" id="stepIcon-{{id}}" width="32" onerror="errorLoadingImage(this);" />
                                    </div>
                                    <div class="col-xs-8">
                                        {{ name }}<br />
                                        <small class="text-muted">Version: {{ version }}</small>
                                    </div>
                                    <div class="col-xs-1">
                                        {{#enabled}}
                                        <i class="mdi mdi-checkbox-marked-circle mdi-24px text-success"></i>
                                        {{/enabled}}
                                        {{^enabled}}
                                        <i class="mdi mdi-checkbox-marked-circle mdi-24px text-muted"></i>
                                        {{/enabled}}
                                    </div>
                                    <div class="col-xs-1">
                                        {{#continueOnError}}
                                        <i class="mdi mdi-alert-circle mdi-24px text-danger"></i>
                                        {{/continueOnError}}
                                        {{^continueOnError}}
                                        <i class="mdi mdi-alert-circle mdi-24px text-muted"></i>
                                        {{/continueOnError}}
                                    </div>
                                </div>
                                {{/steps}}
                            </div>
                            {{/deploymentPhases}}
                        </div>
                        {{/environments}}
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-md-4">
                <!-- At a glance -->
                <div class="card">
                    <h2>At a glance</h2>
                    <div class="row text-center">
                        <div class="col-xs-4">
                            <div class="text-center"><i class="mdi mdi-sitemap mdi-24px"></i> 2</div>
                            <div class="text-center">Environments</div>
                        </div>
                        <div class="col-xs-4">
                            <div class="text-center"><i class="mdi mdi-clipboard-check mdi-24px"></i> 2</div>
                            <div class="text-center">Tasks</div>
                        </div>
                        <div class="col-xs-4">
                            <div class="text-center"><i class="mdi mdi-cube mdi-24px"></i> 2</div>
                            <div class="text-center">Variables</div>
                        </div>
                    </div>
                    <div class="row text-center">
                        <div class="col-xs-4">
                            <div class="text-center"><i class="mdi mdi-view-sequential mdi-24px"></i> 2</div>
                            <div class="text-center">Phases</div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2>Author</h2>
                    <h3>Created by</h3>
                    <p>{{creationInformation.createdBy}}</p>
                    <p>{{creationInformation.createdByEmail}}</p>
                    <p>{{creationInformation.createdOn}}</p>
                    <h3>Modified by</h3>
                    <p>{{modificationInformation.modifiedBy}}</p>
                    <p>{{modificationInformation.modifiedByEmail}}</p>
                    <p>{{modificationInformation.modifiedOn}}</p>
                </div>
                <div class="card">
                    <h2>Artifacts</h2>
                    {{#artifacts}}
                    <div class="row">
                        <div class="col-xs-12">
                            <span>ICON</span> {{artifactAlias}}
                        </div>
                        <div class="col-xs-12">
                            <span>ICON</span> {{project}}
                        </div>
                        <div class="col-xs-12">
                            <span>ICON</span> {{source}}
                        </div>
                        <div class="col-xs-12">
                            <span>ICON</span> {{defaultVersion}}
                        </div>
                    </div>
                    {{/artifacts}}
                </div>
                <div class="card">
                    <h2>Triggers</h2>
                    {{#isTriggerSetupForReleaseDefinition}}
                    {{#triggers}}
                    <div class="row">
                        <div class="col-xs-12">
                            <span>ICON</span> {{artifactAlias}}
                        </div>
                        <div class="col-xs-12">
                            <span>ICON</span> {{triggerType}}
                        </div>
                        {{#triggerConditions}}
                        <div class="col-xs-12">
                            <span>ICON</span> {{sourceBranch}}
                        </div>
                        <div class="col-xs-12">
                            <span>ICON</span> {{useBuildDefinitionBranch}}
                        </div>
                        {{/triggerConditions}}
                    </div>
                    {{/triggers}}
                    {{/isTriggerSetupForReleaseDefinition}}
                    {{^isTriggerSetupForReleaseDefinition}}
                    <p>No continuous deployment setup for this release pipeline</p>
                    {{/isTriggerSetupForReleaseDefinition}}
                </div>
                <div>
                    <!-- Trigger the modal with a button -->
                    {{#doVariablesExists}}
                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#releaseDefVariables">Variables</button>
                    {{/doVariablesExists}}
                    <!-- Modal -->
                    <div id="releaseDefVariables" class="modal fade" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Variables</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="row bg-primary">
                                        <div class="col-xs-3">
                                            Name
                                        </div>
                                        <div class="col-xs-3">
                                            Value
                                        </div>
                                        <div class="col-xs-3">
                                            Scope
                                        </div>
                                    </div>
                                    {{#variables}}
                                    <div class="row">
                                        <div class="col-xs-3">
                                            {{ key }}
                                        </div>
                                        <div class="col-xs-3">
                                            {{ value }}
                                        </div>
                                        <div class="col-xs-3">
                                            {{ scope }}
                                        </div>
                                    </div>
                                    {{/variables}}
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>